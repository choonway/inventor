<html>
<body>
SoCallbackAction
<hr>
<dl>
<dt>NAME
<dd>SoCallbackAction -- performs a generic traversal of the scene graph

<dt>INHERITS FROM
<dd><a href="soaction.html">SoAction</a> &gt; SoCallbackAction

<dt>DESCRIPTION
<dd>This action defines a generic traversal of the scene graph. The user can specify callback functions for node types or paths; when those node types or paths are encountered during traversal, the user's callback function is called.

<p>In addition, callback functions can be registered for primitives generated by shapes in the scene graph. Most shape types can generate primitives that represent or approximate their geometries. Triangle primitives are used for all surfaces (such as cubes, face sets, or 3D text), line segment primitives are used for line shapes, and point primitives are used for point shapes. Note that the type of primitives generated for a shape is the same, regardless of drawing style or other properties.

<p>Most of the methods on this class access information from the traversal state. They should be called only by callback functions that are invoked during traversal, so there is a valid state to work with.

<dt>METHODS
<dl>
<dt><b>SoCallbackAction</b>()
<dd>The constructor.

<dt>void <b>addPreCallback</b>(SoType type, SoCallbackActionCB *cb, void*data)
<dt>void <b>addPostCallback</b>(SoType type, SoCallbackActionCB *cb, void*data)
<dd>These add a callback function to call when a node of the given type is encountered during traversal. The PreCallback is called just before the node is traversed, and the PostCallback is called just after. The value returned by a callback function indicates whether the action should continue with the traversal.
<dt>void <b>addPreTailCallback</b>(SoCallbackActionCB *cb, void *data)
<dt>void <b>addPostTailCallback</b>(SoCallbackActionCB *cb, void *data)
<dd>These can be used to set up callback functions to call when the action is applied to a path. The functions are called just before or after the node at the tail of the path is traversed.

<dt>void <b>addTriangleCallback</b>(SoType type, SoTriangleCB *cb, void*data)
<dt>void <b>addLineSegmentCallback</b>(SoType type, SoLineSegmentCB *cb,void *data)
<dt>void <b>addPointCallback</b>(SoType type, SoPointCB *cb, void *data)
<dd>Routines to add callbacks for generated primitives (triangles, line segments,and points) for all shapes of the given type. The callback function will becalled for each primitive generated for all shapes of or derived from that type.

<dt>float <b>getComplexity</b>() const
<dt>SoComplexity::Type <b>getComplexityType</b>() const
<dd>Returns complexity information from the state.

<dt>long <b>getNumCoordinates</b>() const
<dt>const SbVec3f & <b>getCoordinate3</b>(int index) const
<dt>const SbVec4f & <b>getCoordinate4</b>(int index) const
<dd>Returns the current coordinates from the state.

<dt>SoDrawStyle::Style <b>getDrawStyle</b>() const
<dt>unsigned short <b>getLinePattern</b>() const
<dt>float <b>getLineWidth</b>() const
<dt>float <b>getPointSize</b>() const
<dd>Returns the current drawing style information from the state.

<dt>const SbName & <b>getFontName</b>() const
<dt>float <b>getFontSize</b>() const
<dd>Returns the current font information from the state.

<dt>SoLightModel::Model <b>getLightModel</b>() const
<dt>const SbVec3f & <b>getLightAttenuation</b>() const
<dd>Returns the current lighting model information from the state.

<dt>void <b>getMaterial</b>(SbColor &ambient, SbColor &diffuse, SbColor&specular, SbColor &emission, float &shininess, float &transparency, int mtlIndex = 0) const
<dt>SoMaterialBinding::Binding <b>getMaterialBinding</b>() const
<dd>Returns the current material information from the state. Providing a mtlIndex will return the material defined for that index.

<dt>long <b>getNumNormals</b>() const
<dt>const SbVec3f & <b>getNormal</b>(int index) const
<dt>SoNormalBinding::Binding <b>getNormalBinding</b>() const
<dd>Returns the current normal information from the state.

<dt>long <b>getNumProfileCoordinates</b>() const
<dt>const SbVec2f & <b>getProfileCoordinate2</b>(int index) const
<dt>const SbVec3f & <b>getProfileCoordinate3</b>(int index) const
<dt>const SoNodeList &<b>getProfile</b>() const
<dd>Returns the current profiles and their coordinates from the state.

<dt>SoShapeHints::VertexOrdering <b>getVertexOrdering</b>() const
<dt>SoShapeHints::ShapeType <b>getShapeType</b>() const
<dt>SoShapeHints::FaceType <b>getFaceType</b>() const
<dt>float <b>getCreaseAngle</b>() const
<dd>Returns the current shape hints from the state.

<dt>long <b>getNumTextureCoordinates</b>() const
<dt>const SbVec2f & <b>getTextureCoordinate2</b>(int index) const
<dt>const SbVec4f & <b>getTextureCoordinate4</b>(int index) const
<dt>SoTextureCoordinateBinding::Binding <b>getTextureCoordinateBinding</b>() const
<dt>const SbColor & <b>getTextureBlendColor</b>() const
<dt>const unsigned char *<b>getTextureImage</b>(SbVec2s &size, int &numComps) const
<dd>Returns texture information from the state. getNumTextureCoordinates()returns 0 if texture coordinates are generated by a function. getTextureImage() returns NULL if no texture is enabled.

<dt>const SbMatrix & <b>getTextureMatrix</b>() const
<dt>SoTexture2::Model <b>getTextureModel</b>() const
<dt>SoTexture2::Wrap <b>getTextureWrapS</b>() const
<dt>SoTexture2::Wrap <b>getTextureWrapT</b>() const
<dd>Returns the current texture mapping information from the state.

<dt>const SbMatrix & <b>getModelMatrix</b>() const
<dt>SoUnits::Units <b>getUnits</b>() const
<dd>Returns the current modeling transformation and the current units from thestate.

<dt>float <b>getFocalDistance</b>() const
<dt>const SbMatrix & <b>getProjectionMatrix</b>() const
<dt>const SbMatrix & <b>getViewingMatrix</b>() const
<dt>const SbViewVolume & <b>getViewVolume</b>() const
<dd>Returns the current camera and viewing information from the state.

<dt>SoPickStyle::Style <b>getPickStyle</b>() const
<dd>Returns the current picking style.

<dt>long <b>getSwitch</b>() const
<dd>Returns the current switch value.

<dt><b>Methods from class SoAction</b>:
<dd>apply, apply, apply, getClassTypeId, getTypeId, isOfType, invalidateState
</dl>

<dt>INCLUDE FILE
<dd>#include &lt;Inventor/actions/SoCallbackAction.h&gt;

<dd>typedef void SoTriangleCB(void *userData,SoCallbackAction *action, const SoPrimitiveVertex *v1,const SoPrimitiveVertex *v2, const SoPrimitiveVertex *v3)
<dd>typedef void SoLineSegmentCB(void *userData, SoCallbackAction *action,const SoPrimitiveVertex *v1, const SoPrimitiveVertex *v2)
<dd>typedef void SoPointCB(void *userData, SoCallbackAction *action,const SoPrimitiveVertex *v)
<dd>typedef SoCallbackAction::Response SoCallbackActionCB(void *userData, SoCallbackAction *action,const SoNode *node)

<dl>
<dt>enum Response {
<dd>SoCallbackAction::CONTINUE Continue traversal as if nothing happened
<dd>SoCallbackAction::ABORT Abort traversal
<dd>SoCallbackAction::PRUNE Do not traverse node's children, but continue traversal
<dt>}
</dl>

<dt>SEE ALSO
<dd><a href="socallback.html">SoCallback</a>, <a href="soeventcallback.html">SoEventCallback</a>, <a href="soshape.html">SoShape</a>
</dl>
</body>
</html>
